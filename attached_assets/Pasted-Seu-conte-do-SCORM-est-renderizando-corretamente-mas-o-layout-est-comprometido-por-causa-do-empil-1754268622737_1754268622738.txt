Seu conte√∫do SCORM est√° renderizando corretamente, mas o layout est√° comprometido por causa do empilhamento de modais aninhados. Isso pode ser por causa de:

Um modal principal (do sistema) sendo usado para visualiza√ß√£o;

O pr√≥prio player SCORM inserido em outro iframe/modal;

Estiliza√ß√£o com overflow, height: 100% ou position: fixed/absolute aplicada em ambos os n√≠veis.

‚úÖ Solu√ß√µes recomendadas
1. Renderize o conte√∫do SCORM em uma rota dedicada (fora do modal)
Abra o conte√∫do SCORM em uma nova aba/rota como:

bash
Copiar
Editar
/scorm-viewer/:conteudoId
Exemplo:

tsx
Copiar
Editar
window.open(`/scorm-viewer/${conteudoId}`, '_blank');
Vantagens:

Evita o empilhamento de modais.

Permite fullscreen.

SCORM tem mais controle de layout.

2. Garanta que o player SCORM n√£o esteja em um iframe interno
Verifique se voc√™ n√£o est√° incluindo o conte√∫do em um iframe que j√° est√° dentro de outro modal:

tsx
Copiar
Editar
<Modal>
  <iframe src="/scorm/player/..." />
</Modal>
Se sim, refatore para que o conte√∫do do SCORM seja carregado diretamente na rota, sem iframe aninhado.

3. Remova bordas e paddings fixos do SCORM player
Certifique-se de que os estilos do player SCORM usam width: 100%, height: 100% e box-sizing: border-box corretamente. Caso contr√°rio, ele pode estar sendo redimensionado de forma inadequada dentro do modal.

üíæ Integra√ß√£o com Banco de Dados (Neon)
Caso ainda n√£o tenha sido feito, aqui est√° um esbo√ßo de como salvar o progresso SCORM no banco Neon:

üìò Estrutura da Tabela:
sql
Copiar
Editar
CREATE TABLE scorm_progress (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL,
  course_id UUID NOT NULL,
  scorm_data JSONB NOT NULL,
  score FLOAT,
  progress FLOAT,
  completed BOOLEAN DEFAULT FALSE,
  updated_at TIMESTAMP DEFAULT now()
);
üöÄ API para salvar progresso:
ts
Copiar
Editar
// POST /api/scorm-progress
{
  user_id: "uuid-do-usuario",
  course_id: "uuid-do-curso",
  scorm_data: {
    "cmi.core.lesson_status": "incomplete",
    "cmi.core.score.raw": 75,
    ...
  },
  score: 75,
  progress: 0.66,
  completed: false
}
üß† No JavaScript do player:
js
Copiar
Editar
function saveSCORMProgress(data) {
  fetch('/api/scorm-progress', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  });
}
Voc√™ pode chamar essa fun√ß√£o dentro do LMSCommit() do SCORM:

js
Copiar
Editar
LMSCommit = function() {
  // salvar no banco
  saveSCORMProgress(cmiData);
  return "true";
};